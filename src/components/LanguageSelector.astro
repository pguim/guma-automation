---
interface Props {
  texts: {
    ca: string;
    es: string;
    en: string;
  };
  currentLanguage: string;
}

import "/src/styles/global.css";
const { texts, currentLanguage } = Astro.props;
---

<script>
  document.querySelector("#currentLanguage")?.addEventListener("click", () => {
    document.querySelector(".dropdown")?.classList.toggle("active");
  });
</script>

<style>
  a {
    display: flex;
    flex-direction: row;
    align-items: center;
  }
  li {
    display: block;
  }
  img {
    display: inline;
    height: 20px;
    margin: 5px;
    margin-right: 10px;
  }
  p {
    display: inline;
  }
  div.dropdown {
    max-height: 0px;
    overflow: hidden;
    opacity: 0;
    transition: all 0.2s ease-in-out;
  }
  div.active {
    max-height: 60px;
    opacity: 1;
  }
</style>

{
  currentLanguage === "ca" && (
    <a id="currentLanguage">
      <img src="/images/flags/ca.svg" />
      <p>{texts.ca}</p>
    </a>
  )
}
{
  currentLanguage === "es" && (
    <a id="currentLanguage">
      <img src="/images/flags/es.svg" />
      <p>{texts.es}</p>
    </a>
  )
}
{
  currentLanguage === "en" && (
    <a id="currentLanguage">
      <img src="/images/flags/en.svg" />
      <p>{texts.en}</p>
    </a>
  )
}
<div class="dropdown">
  <ul>
    {
      currentLanguage !== "ca" && (
        <li>
          <a href="/ca">
            <img src="/images/flags/ca.svg" />
            <p>{texts.ca}</p>
          </a>
        </li>
      )
    }
    {
      currentLanguage !== "es" && (
        <li>
          <a href="/es">
            <img src="/images/flags/es.svg" />
            <p>{texts.es}</p>
          </a>
        </li>
      )
    }
    {
      currentLanguage !== "en" && (
        <li>
          <a href="/en">
            <img src="/images/flags/en.svg" />
            <p>{texts.en}</p>
          </a>
        </li>
      )
    }
  </ul>
</div>
